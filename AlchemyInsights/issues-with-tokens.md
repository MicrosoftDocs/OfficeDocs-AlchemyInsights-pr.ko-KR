---
title: 토큰 문제
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 01/15/2021
ms.audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "7774"
- "9004351"
ms.openlocfilehash: 14a9681c08920094813497e7a75eb87bb0733cbc
ms.sourcegitcommit: e378232f4c9ef4e962208100db752221e7bd2dd6
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/20/2021
ms.locfileid: "49912040"
---
# <a name="issues-with-tokens"></a><span data-ttu-id="56dbe-102">토큰 문제</span><span class="sxs-lookup"><span data-stu-id="56dbe-102">Issues with tokens</span></span>

<span data-ttu-id="56dbe-103">토큰과 관련된 문제를 관리하려면 다음 단계를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-103">To manage issues related to tokens, you can perform the following steps:</span></span>

1. <span data-ttu-id="56dbe-104">Microsoft ID 플랫폼에서 발급한 액세스, ID 또는 SAML 토큰의 수명을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-104">You can specify the lifetime of an access, ID, or SAML token issued by Microsoft identity platform.</span></span> <span data-ttu-id="56dbe-105">조직의 모든 앱, 다중 테넌트(여러 조직) 응용 프로그램 또는 조직의 특정 서비스 주체에 대해 토큰 수명을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-105">You can set token lifetimes for all apps in your organization, for a multi-tenant (multi-organization) application, or for a specific service principal in your organization.</span></span> <span data-ttu-id="56dbe-106">자세한 내용은 [Microsoft ID 플랫폼에서 구성 가능한 토큰 수명(미리 보기)](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="56dbe-106">For more information, see [Configurable token lifetimes in Microsoft identity platform (preview)](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes).</span></span>
2. <span data-ttu-id="56dbe-107">액세스 토큰을 사용하면 클라이언트가 보호된 웹 API를 안전하게 호출할 수 있으며, 웹 API에서 인증 및 인증을 수행하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-107">Access tokens enable clients to securely call protected web APIs, and are used by web APIs to perform authentication and authorization.</span></span> <span data-ttu-id="56dbe-108">OAuth 설정에 따라 액세스 토큰은 설정된 형식이 없는 불투명 문자열입니다. IDP(ID 제공자)는 GUID를 사용하고, 다른 IDP는 암호화된 blob을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-108">As per the OAuth specification, access tokens are opaque strings without a set format - some identity providers (IDPs) use GUIDs, others use encrypted blobs.</span></span> <span data-ttu-id="56dbe-109">Microsoft ID 플랫폼은 토큰을 받아들이는 API의 구성에 따라 다양한 액세스 토큰 형식을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-109">The Microsoft identity platform uses a variety of access token formats, depending on the configuration of the API that accepts the token.</span></span> <span data-ttu-id="56dbe-110">API에서 액세스 토큰 내부 클레임의 유효성을 검사하고 사용하는 방법을 알아보려면 [Microsoft ID 플랫폼 액세스 토큰](https://docs.microsoft.com/azure/active-directory/develop/userinfo#calling-the-userinfo-endpoint)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="56dbe-110">To learn how your API can validate and use the claims inside an access token, see [Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/userinfo#calling-the-userinfo-endpoint).</span></span>
3. <span data-ttu-id="56dbe-111">MSAL(Microsoft 라이브러리)은 여러 응용 프로그램 시나리오에서 사용할 수 있도록 여러 인증 흐름을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-111">The Microsoft Authentication Library (MSAL) supports several authentication flows for use in different application scenarios.</span></span> <span data-ttu-id="56dbe-112">자세한 내용은 [인증 흐름](https://docs.microsoft.com/azure/active-directory/develop/msal-authentication-flows#how-each-flow-emits-tokens-and-codes)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="56dbe-112">For more information, see [Authentication flows](https://docs.microsoft.com/azure/active-directory/develop/msal-authentication-flows#how-each-flow-emits-tokens-and-codes).</span></span>
4. <span data-ttu-id="56dbe-113">OAuth 2.0 인증 코드 부여는 장치에 설치된 앱에서 웹 API와 같은 보호된 리소스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-113">The OAuth 2.0 authorization code grant can be used in apps that are installed on a device to gain access to protected resources, such as web APIs.</span></span> <span data-ttu-id="56dbe-114">OAuth 2.0의 Microsoft ID 플랫폼 구현을 사용하여 모바일 및 데스크톱 앱에 로그인 및 API 액세스를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-114">Using the Microsoft identity platform implementation of OAuth 2.0, you can add sign-in and API access to your mobile and desktop apps.</span></span> <span data-ttu-id="56dbe-115">모든 언어를 사용하여 응용 프로그램의 프로토콜에 대해 직접 프로그래밍하는 방법은 [Microsoft ID 플랫폼 및 OAuth 2.0 인증 코드 흐름](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow#refresh-the-access-token)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="56dbe-115">See [Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow#refresh-the-access-token) for how to program directly against the protocol in your application, using any language.</span></span>
5. <span data-ttu-id="56dbe-116">OIDC(OpenID Connect)는 OAuth 2.0을 기반으로 구축된 인증 프로토콜로, 사용자를 응용 프로그램에 안전하게 서명하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-116">OpenID Connect (OIDC) is an authentication protocol built on OAuth 2.0 that you can use to securely sign in a user to an application.</span></span> <span data-ttu-id="56dbe-117">Microsoft ID 플랫폼 끝점의 OpenID Connect 구현을 사용하면 앱에 로그인 및 API 액세스를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-117">When you use the Microsoft identity platform endpoint's implementation of OpenID Connect, you can add sign-in and API access to your apps.</span></span> <span data-ttu-id="56dbe-118">[Microsoft ID 플랫폼 및 OpenID Connect 프로토콜](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc#send-the-sign-in-request)은 언어와 무관하게 이 작업을 수행하는 방법을 보여주며 Microsoft 오픈 소스 라이브러리를 사용하지 않고 HTTP 메시지를 보내고 받는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-118">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc#send-the-sign-in-request) shows how to do this independent of language and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>
    - <span data-ttu-id="56dbe-119">UserInfo 끝점은 인증된 사용자에 대한 클레임을 반환하도록 설계된 OIDC 표준의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-119">The UserInfo endpoint is part of the OIDC standard, designed to return claims about the user that authenticated.</span></span> <span data-ttu-id="56dbe-120">자세한 내용은 [Microsoft ID 플랫폼 UserInfo 끝점](https://docs.microsoft.com/azure/active-directory/develop/userinfo#consider-use-an-id-token-instead)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="56dbe-120">For more information, see [Microsoft identity platform UserInfo endpoint](https://docs.microsoft.com/azure/active-directory/develop/userinfo#consider-use-an-id-token-instead).</span></span>
    - <span data-ttu-id="56dbe-121">[Azure AD 및 OpenID Connect를 사용하여 웹앱에서 웹 API 호출](https://docs.microsoft.com/samples/azure-samples/active-directory-dotnet-webapp-webapi-openidconnect/active-directory-dotnet-webapp-webapi-openidconnect/) 샘플은 OpenID Connect를 사용하여 Azure AD를 로그인하기 위해 MVC 웹 응용 프로그램을 작성하는 방법을 보여 줍니다. 그런 다음 OAuth 2.0을 통해 얻은 토큰을 사용하여 로그인한 사용자의 ID로 웹 API를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-121">The [Calling a web API in a web app using Azure AD and OpenID Connect](https://docs.microsoft.com/samples/azure-samples/active-directory-dotnet-webapp-webapi-openidconnect/active-directory-dotnet-webapp-webapi-openidconnect/) sample shows how to build an MVC web application that uses Azure AD for sign-in using the OpenID Connect protocol, and then call a web API under the signed-in user's identity using tokens obtained via OAuth 2.0.</span></span> <span data-ttu-id="56dbe-122">이 샘플에서는 OpenID Connect ASP .Net OWIN 미들웨어 및 ADAL .Net.을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-122">This sample uses the OpenID Connect ASP .Net OWIN middleware and ADAL .Net.</span></span>
6. <span data-ttu-id="56dbe-123">[웹 API를 표시하도록 응용 프로그램 구성
](https://docs.microsoft.com/azure/active-directory/develop/quickstart-configure-app-expose-web-apis) - 이 빠른 시작에서는 Microsoft ID 플랫폼에 웹 API를 등록하고 예제 범위를 추가하여 클라이언트 앱에 노출합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-123">[Configure an application to expose a web API](https://docs.microsoft.com/azure/active-directory/develop/quickstart-configure-app-expose-web-apis) - In this quickstart, you register a web API with the Microsoft identity platform and expose it to client apps by adding an example scope.</span></span> <span data-ttu-id="56dbe-124">웹 API를 등록하고 범위를 통해 노출하면 권한 있는 사용자 및 API에 액세스하는 클라이언트 앱에 해당 리소스에 대한 권한 기반 액세스를 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-124">By registering your web API and exposing it through scopes, you can provide permissions-based access to its resources to authorized users and client apps that access your API.</span></span>
7. <span data-ttu-id="56dbe-125">Azure AD B2C(Azure Active Directory B2C)에서 ROPC(리소스 소유자 암호 자격 증명) 흐름은 OAuth 표준 인증 흐름입니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-125">In Azure Active Directory B2C (Azure AD B2C), the resource owner password credentials (ROPC) flow is an OAuth standard authentication flow.</span></span> <span data-ttu-id="56dbe-126">이 흐름에서 신뢰 당사자라고도 하는 응용 프로그램은 토큰과 유효한 자격 증명을 교환합니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-126">In this flow, an application, also known as the relying party, exchanges valid credentials for tokens.</span></span> <span data-ttu-id="56dbe-127">자격 증명에는 사용자 ID 및 암호가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-127">The credentials include a user ID and password.</span></span> <span data-ttu-id="56dbe-128">반환되는 토큰은 ID 토큰, 액세스 토큰 및 새로 고침 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="56dbe-128">The tokens returned are an ID token, access token, and a refresh token.</span></span> <span data-ttu-id="56dbe-129">자세한 내용은 [Azure Active Directory B2C에서 리소스 소유자 암호 자격 증명 흐름 설정](https://docs.microsoft.com/azure/active-directory-b2c/add-ropc-policy?tabs=app-reg-ga&pivots=b2c-user-flow)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="56dbe-129">For more information, see [Set up a resource owner password credentials flow in Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/add-ropc-policy?tabs=app-reg-ga&pivots=b2c-user-flow).</span></span> 

